---
layout: post
title: TCAëŠ” ë¬´ì—‡ì¼ê¹Œ?!
description: SwiftUIì˜ TCA í•™ìŠµí•˜ê¸°
featuredImage: 
excerpt: "SwiftUI : TCA"
writer: JEONG Eui chan
categories:
  - Development
tags:
  - SwiftUI
  - TCA
toc: true
toc_sticky: true
data: 2024-09-02
last_modified_at: 2024-09-02
image:
  path: /assets/img/TCA/tcaLogo.jpg
featured: true
hidden: false
---
## ëª©ì°¨

- [ğŸ§Â TCAë€ ë¬´ì—‡ì¸ê°€?](#-tcaë€-ë¬´ì—‡ì¸ê°€)

- [ğŸ˜ƒÂ TCAë¥¼ ì™œ ì‚¬ìš©í• ê¹Œ?](#-tcaë¥¼-ì™œ-ì‚¬ìš©í• ê¹Œ)

- [ğŸ˜ŒÂ TCAì˜ íë¦„](#-tcaì˜-íë¦„)

- [ğŸ˜™Â TCA ì˜ˆì œ ì½”ë“œ](#-tca-ì˜ˆì œ-ì½”ë“œ)

&nbsp;

## ğŸ§ TCAë€ ë¬´ì—‡ì¸ê°€?
---

> TCA ê¹ƒ í—ˆë¸Œ ì£¼ì†Œ <br>
[https://github.com/pointfreeco/swift-composable-architecture](https://github.com/pointfreeco/swift-composable-architecture)


TCA, The Composable Architecture ë¼ê³  í•˜ëŠ” ê²ƒì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” ê³¼ì •ì„ ì‰½ê³  ì¼ê´€ë˜ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì•±ì„ êµ¬ì„±í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ë©° ì‚¬ìš©í•˜ê¸° í¸í•˜ë„ë¡ ë„ì™€ì¤€ë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ SwiftUI UIkit ë“±ë“± Apple ê¸°ê¸°ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## ğŸ˜ƒ TCAë¥¼ ì™œ ì‚¬ìš©í• ê¹Œ?
---

ê²°ë¡ ë¶€í„° ë§í•˜ë©´, ì•± ê°œë°œì— ìˆì–´ì„œ ì§ë©´í•˜ëŠ” ë³µì¡í•œ ë¬¸ì œë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•´ íƒ„ìƒí–ˆë‹¤.

ì¦‰, ì•±ì´ ì ì  ë” ë³µì¡í•´ì§€ë©´ì„œ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±, í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±, ìœ ì§€ ë³´ìˆ˜ì„±ì„ ë†’ì´ê¸° ìœ„í•œ êµ¬ì¡°ì ì¸ ì ‘ê·¼ì´ í•„ìš”í•´ì¡Œë‹¤. TCAëŠ” ì´ëŸ° ìš”êµ¬ì— ë¶€ì‘í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¡Œë‹¤.

TCAëŠ” **ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê³ , ê° ë¶€ë¶„ì„ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ì¡°í•©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤.**

Appleì˜ ì„ ì–¸í˜• í”„ë¡œê·¸ë˜ë° SwiftUIì—ì„œì˜ ë¬¸ì œì ì„ ë¨¼ì € ì‚´í´ë³´ë„ë¡ í•˜ì.

Swift UIì—ì„œì˜ MVVMì€ ì–‘ë°©í–¥ ë°”ì¸ë”©ì„ ì§€ì›í•œë‹¤. ê·¸ëŸ¼ ì—¬ê¸°ì„œì˜ ë¬¸ì œëŠ” ë¬´ì—‡ì¼ê¹Œ?

ì–‘ë°©í–¥ ë°”ì¸ë”©ì´ ì§€ì›ë¨ìœ¼ë¡œ, Viewì™€ ViewModelê°„ì˜ ì—­í•  êµ¬ë¶„ì´ ì•½í•´ì§„ë‹¤. ì¦‰, Viewì—ì„œë„ ìƒíƒœ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ê³  ViewModelì—ì„œë„ ìƒíƒœ ê´€ë¦¬ê°€ ê°€ëŠ¥í•´ì§„ë‹¤.

![IMG_9D4C9F9E57D3-1](https://github.com/user-attachments/assets/bbc38988-2324-448f-9d93-1db17b5086d7)

### Viewì™€ ViewModel ê°„ì˜ ê°•í•œ ê²°í•©

> ì–‘ë°©í–¥ ë°”ì¸ë”©ì„ ì‚¬ìš©í•˜ë©´ Viewì—ì„œ ë°œìƒí•˜ëŠ” ëª¨ë“  ìƒíƒœ ë³€í™”ê°€ ì¦‰ì‹œ ViewModelë¡œ ì „ë‹¬ë˜ê³ , ë°˜ëŒ€ë¡œ ViewModelì˜ ë³€í™”ëŠ” ìë™ìœ¼ë¡œ Viewì— ë°˜ì˜ëœë‹¤. ìœ„ ê·¸ë¦¼ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ Viewì™€ ViewModelì´ ë°€ì ‘í•˜ê²Œ ê²°í•©ë˜ë©° ë‘˜ ê°„ì˜ ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬ê°€ ì–´ë ¤ì›Œ ì§„ë‹¤.
**Viewì˜ ë…¼ë¦¬ì™€ ViewModelì˜ ë…¼ë¦¬ê°€ ì„œë¡œ ì—‰í‚¤ë©´ì„œ ì½”ë“œê°€ ë³µì¡í•´ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤.**
> 

### Viewì—ì„œì˜ ìƒíƒœ ê´€ë¦¬ ê°€ëŠ¥ì„±

> SwiftUIì—ì„œ ViewëŠ” ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë„êµ¬ë¥¼ ì œê³µí•œë‹¤. ì´ë¡œ ì¸í•´ Viewì—ì„œë„ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ViewModelì—ì„œë„ ìƒíƒœë¥¼ ê´€ë¦¬í•œë‹¤. ì¦‰ ViewModelì˜ ì—­í• ì´ ì¤‘ë³µì´ ëœë‹¤.
**MVVMì˜ í•µì‹¬ ì›ì¹™ì¸ â€œViewëŠ” ë‹¨ìˆœíˆ UIë¥¼ ë Œë”ë§í•˜ëŠ” ì—­í• ë§Œ í•´ì•¼ í•œë‹¤â€ëŠ” ì›ì¹™ì„ ìœ„ë°°í•œë‹¤.**
> 

### ë””ë²„ê¹…ì˜ ì–´ë ¤ì›€

> ì–‘ë°©í–¥ ë°”ì¸ë”©ìœ¼ë¡œ ì¸í•´ íŠ¹ì • ìƒíƒœ ë³€í™”ê°€ ì–´ë””ì„œ ë°œìƒí–ˆëŠ”ì§€ ì¶”ì í•˜ê¸° ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤. ìƒíƒœ ë³€í™”ê°€ Viewì—ì„œ ë°œìƒí–ˆëŠ”ì§€ ì•„ë‹ˆë©´ ViewModelì—ì„œ ë°œìƒí–ˆëŠ”ì§€ ëª…í™•í•˜ì§€ ì•Šë‹¤.
> 

### í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€

> MVVMì˜ ì¥ì  ì¤‘ í•˜ë‚˜ëŠ” ViewModelì„ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ Viewì™€ ViewModelê°„ì˜ ê°•í•œ ê²°í•©ìœ¼ë¡œ ì¸í•´ ViewModelì˜ í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆë‹¤. UIì˜ ìƒíƒœ ë³€í™”ê°€ ViewModelì˜  ë¡œì§ì— ì˜ì¡´í•˜ê²Œ ë˜ë©´ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ì´ ìƒíƒœë¥¼ ì¬í˜„í•˜ëŠ” ê²ƒì´ ê¹Œë‹¤ë¡œì›Œì§„ë‹¤.
> 

ìœ„ ë¬¸ì œì ìœ¼ë¡œ ë³´ì•„ SwiftUIì˜ ì–‘ë°©í–¥ ë°”ì¸ë”©ì€ ë§¤ìš° í›Œë¥­í•˜ë‹¤. í•˜ì§€ë§Œ ì˜ëª» ì‚¬ìš©í•˜ë©´ MVVM íŒ¨í„´ì˜ ì¥ì ì´ í‡´ìƒ‰ë  ìˆ˜ ìˆë‹¤. Viewì™€ ViewModel ê°„ì˜ ëª…í™•í•œ ì—­í•  ë¶„ë¦¬ë¥¼ ìœ ì§€í•˜ê³  ìƒíƒœ ê´€ë¦¬ì˜ ì±…ì„ì„ ì‹ ì¤‘í•˜ê²Œ ë¶„ë°°í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.  ì´ë¥¼ ìœ„í•´ TCA(The Composable Architecture)ë¥¼ í™œìš©í•˜ë©´ ìœ„ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë° í° ë„ì›€ì´ ëœë‹¤.

TCAëŠ” ìƒíƒœ ê´€ë¦¬ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ëª…í™•íˆ ë¶„ë¦¬í•˜ê³ , ê°ê°ì˜ ì—­í• ì„ ì—„ê²©íˆ ì •ì˜í•¨ìœ¼ë¡œì¨ Viewì™€ ViewModelê°„ì˜ ê²°í•©ì„ ìµœì†Œí™”í•œë‹¤. ìƒíƒœ ê´€ë¦¬ì™€ ë¡œì§ì€ `Reducer, Store` ì—ì„œ ì²˜ë¦¬ë˜ê³  ViewëŠ” ì´ì™€ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•˜ì—¬ UIë¥¼ í‘œí˜„í•˜ëŠ” ë° ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.

## ğŸ˜Œ TCAì˜ íë¦„
---

TCAëŠ” ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ êµ¬ì¡°ë¥¼ ê°–ëŠ”ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë°ì´í„° íë¦„ì„ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤. ìƒíƒœ ë³€í™”ë¥¼ ì¶”ì í•˜ê¸°ê°€ ìš©ì´í•˜ë‹¤. ê·¸ëŸ¼ TCAì˜ ì¥ì ì€ ë¬´ì—‡ì¸ê°€? ì•„ë˜ ê·¸ë¦¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë¦¬í•œë‹¤.

![IMG_21449CAB6FB9-1](https://github.com/user-attachments/assets/e4775df5-5506-46ea-b058-6ced26209954)


ë¨¼ì € ì¥ì ì„ ì„¤ëª…í•˜ê¸° ì „, ìœ„ ê·¸ë¦¼ì˜ êµ¬ì„±ìš”ì†Œì™€ ë°ì´í„° íë¦„ì„ ì„¤ëª…í•œë‹¤.

TCA íë¦„ì—ì„œì˜ ì£¼ìš” êµ¬ì„± ìš”ì†ŒëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

1. `View` : ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë‹´ë‹¹, ì‚¬ìš©ìì˜ ì…ë ¥ì„ ë°›ì•„ `Action` ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì „ë‹¬í•œë‹¤. ë˜í•œ State(ìƒíƒœ)ì˜ ë³€í™”ì— ë”°ë¼ í™”ë©´ì„ ì—…ë°ì´íŠ¸ í•œë‹¤.
2. `Action` : ì‚¬ìš©ìì˜ ì…ë ¥ ë˜ëŠ” ë‹¤ë¥¸ ì´ë²¤íŠ¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” êµ¬ì¡°ì²´ë¡œ, State(ìƒíƒœ)ì™€ Reducer(ë¡œì§)ì„ ë³€í™”ì‹œí‚¤ëŠ” íŠ¸ë¦¬ì»¤ ì—­í• 
3. `Reducer` : Actionì— ë”°ë¼ Stateë¥¼ ë³€í™”ì‹œí‚¤ëŠ” í•¨ìˆ˜ë¡œ, Actionì„ ë°›ì•„ì„œ ì–´ë–¤ ìƒíƒœ ë³€í™”ë¥¼ ì¼ìœ¼í‚¬ì§€ ê²°ì •í•œë‹¤.
4. `State`: ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” êµ¬ì¡°ì²´ë¡œ, Reducerì—ì„œ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ Viewê°€ ì´ ë³€ê²½ëœ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì‹œ ë Œë”ë§ëœë‹¤.
5. `Effect` : ë¹„ë™ê¸° ì‘ì—… ë˜ëŠ” ì™¸ë¶€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„, ReducerëŠ” í•„ìš”ì— ë”°ë¼ Effectë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³ , ì´ ì‘ì—…ì˜ ê²°ê³¼ê°€ ë‹¤ì‹œ Actionìœ¼ë¡œ ì „ë‹¬ë˜ì–´ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ í•œë‹¤.
6. `Dependency`: ì™¸ë¶€ ì˜ì¡´ì„±ì„ ì²˜ë¦¬í•˜ëŠ” ê³³ì´ë‹¤. Reducerì™€ Effectê°€ ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ì™€ í†µì‹ í•  ë•Œ ì‚¬ìš©ëœë‹¤.

ë°ì´í„° íë¦„ì€ ì•„ë˜ì™€ ê°™ë‹¤.

1. **Viewì—ì„œ Action ìƒì„±**
    1. ViewëŠ” ì‚¬ìš©ìì˜ ì…ë ¥ì„ ë°›ì•„ Actionì„ ìƒì„±í•˜ê³  ì´ë¥¼ Reducerë¡œ ì „ë‹¬í•œë‹¤.
2. **Reducerê°€ State ë³€ê²½**
    1. Actionì„ ë°›ì€ ReducerëŠ” ìƒˆë¡œìš´ Stateë¥¼ ìƒì„±í•˜ê±°ë‚˜ ê¸°ì¡´ Stateë¥¼ ë³€ê²½í•œë‹¤.
3. **Effect ì²˜ë¦¬**
    1. Actionì— ë”°ë¼ ë¹„ë™ê¸° ì‘ì—…ì´ í•„ìš”í•  ê²½ìš° ReducerëŠ” Effectë¥¼ í†µí•´ Dependencyì— ìš”ì²­ì„ ë³´ë‚¸ë‹¤. ì´ ì‘ì—…ì˜ ê²°ê³¼ëŠ” ë‹¤ì‹œ Actionìœ¼ë¡œ ë³€í™˜ë˜ì–´ Reducerë¡œ ì „ë‹¬ëœë‹¤.
4. **View ì—…ë°ì´íŠ¸**
    1. Reducerì—ì„œ Stateê°€ ë³€ê²½ë˜ë©´ ViewëŠ” ì´ ë³€ê²½ëœ Stateë¥¼ ê¸°ë°˜ìœ¼ë¡œ í™”ë©´ì„ ì—…ë°ì´íŠ¸ í•œë‹¤.

### ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ìœ¼ë¡œ ì¸í•œ ëª…í™•í•œ ìƒíƒœ ê´€ë¦¬

> TCAëŠ” ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì„ ê°•ì¡°í•˜ëŠ” êµ¬ì¡°ë¡œ ìƒíƒœ(State)ê°€ ì˜¤ì§ `Reducer` ë¥¼ í†µí•´ì„œë§Œ ì—…ë°ì´íŠ¸ ëœë‹¤. ì´ëŠ” ìƒíƒœ ë³€í™”ê°€ ì–´ë””ì„œ ë°œìƒí–ˆëŠ”ì§€ ëª…í™•í•˜ê²Œ íŒŒì•…í•  ìˆ˜ ìˆê²Œ í•˜ë©°, ìƒíƒœê°€ Viewì—ì„œ ì§ì ‘ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì—ì„œ ë°ì´í„° íë¦„ì„ ë”ìš± ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì•ˆì •ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.
> 

### @Published ì†ì„±ì˜ ë¹„ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ì½”ë“œ ì¶”ì  ìš©ì´

> TCAì—ì„œëŠ” Swiftì˜ @Published ì†ì„±ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŠ” ì½”ë“œì˜ ì¶”ì ì„ ë” ì‰½ê²Œ ë§Œë“¤ì–´ì£¼ë©°, ìƒíƒœ ë³€í™”ì˜ ì›ì¸ì„ ëª…í™•íˆ ì´í•´í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ë˜í•œ ì´ë¡œ ì¸í•´ Viewì™€ ë¡œì§ ê°„ì˜ ê²°í•©ì´ ì¤„ì–´ë“¤ì–´ í…ŒìŠ¤íŠ¸ê°€ í›¨ì”¬ ì‰¬ì›Œì§„ë‹¤. TCAì˜ êµ¬ì¡°ëŠ” ê° ìƒíƒœ ë³€í™”ê°€ ì •í™•íˆ ì–´ë””ì„œ ì–´ë–»ê²Œ ì¼ì–´ë‚˜ëŠ”ì§€ë¥¼ ëª…í™•íˆ ë³´ì—¬ì¤€ë‹¤.
> 

### í†µì¼ì„±ê³¼ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ë“œ

> TCAëŠ” ê° ì»´í¬ë„ŒíŠ¸ë¥¼ `Store` ë‹¨ìœ„ë¡œ ë…ë¦½ì ì´ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ì„¤ê³„í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ”ë‹¤. ì´ë¡œ ì¸í•´ ì½”ë“œì˜ í†µì¼ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ì—¬ëŸ¬ ê³³ì—ì„œ ë™ì¼í•œ ë¡œì§ì„ ë°˜ë³µí•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê°„ê²°í•œ ì½”ë“œë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤.
> 

## ğŸ˜™ TCA ì˜ˆì œ ì½”ë“œ
---

### Reducer ì‘ì„±í•˜ê¸°

```swift
import ComposableArchitecture

@Reducer
struct CounterFeature {
    @ObservableState
    struct State: Equatable {
        var count = 0
    }

    enum Action {
        case decrement
        case increment
    }

    var body: some Reducer<State, Action> {
        Reducer { state, action in
            switch action {
                case .decrement:
                state.count -= 1
                return .none

                case .increment:
                state.count += 1
                return .none
            }
        }
    }
}
```

### View ì •ì˜í•˜ê¸°

```swift
struct FeatureView: View {
    let store: StoreOf<CounterFeature>

    var body: some View {
        Form {
            Section {
                Button("ê°ì†Œ") { store.send(.decrement) }
                Button("ì¦ê°€") { store.send(.increment) }
            }
        }
    }
}
```

### App ì‹œì‘í•˜ê¸°

```swift
import ComposableArchitecture

@main
struct MyApp: App {
  var body: some Scene {
    WindowGroup {
      FeatureView(
        store: Store(initialState: Feature.State()) {
          CounterFeature()
        }
      )
    }
  }
}
```
